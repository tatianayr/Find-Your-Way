<!doctype html>
<html lang="pt-br">

<head>
	<title> Projeto Web </title>
	<meta charset="utf-8">
	<meta name="author" content="Tatiana">
	<meta name="description" content="criação de uma web app">
	<meta name="keywords" content="html5, tecnologia">
	<link rel="stylesheet" href="stylesheets/form.css">

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="javascripts/requests/questionario.js"></script>


</head>

<body>

	
	<nav class="header-nav">
		
		<ul>
			<li><a href="index.html"> Home </a></li>
			<li><a href="about.html"> About us </a> </li>
			<li><a href="features.html"> Features </a> </li>
			<li><a href="contacts.html"> Contacts </a> </li>
			<li><a href="form.html"> Questionnaire </a> </li>
			<li><a href="login.html"> Sign In</a> </li>
			<li><a href="register.html"> Sign Up</a> </li>
		</ul>

	</nav>


	<section>
		<form id="myForm">
			<div class="question" id="page1">
				<h1>Question 1</h1>
				<h2>At what season would you like to make your trip?</h2>
				<div id="q1">
					<input type="radio" name="season" value="1">Spring<br>
					<input type="radio" name="season" value="2">Summer<br>
					<input type="radio" name="season" value="3">Autumn<br>
					<input type="radio" name="season" value="4">Winter<br><br>
				</div>
				<input type="button" value="Next" onclick="nextPage()" id="nextButton">

			</div>


			<div class="question" id="page2">
				<h1>Question 2</h1>
				<h2>which historic architecture draws more attention?</h2>
				<div id="q2">
				</div>
				<input type="button" value="Previous" onclick="prevPage()" id="prevButton">
				<input type="button" value="Next" onclick="nextPage()" id="nextButton">

			</div>
			<div class="question" id="page3">
				<h1>Question 3</h1>
				<h2>Which of these interests would you like to experience on your trip?</h2>
				<div id="q3">
				</div>
				<input type="button" value="Previous" onclick="prevPage()" id="prevButton">
				<input type="button" value="Next" onclick="nextPage()" id="nextButton">
			</div>

			<div class="question" id="page4">
				<h1>Question 4</h1>
				<h2>Would you rather visit a city:</h2>
				<div id="q4"></div>
				<div id="cityList"></div> <!-- new element to display city names -->
				<input type="button" value="Previous" onclick="prevPage()" id="prevButton">
				<input type="submit" value="Submit" id="subButton" onclick="showCities()"> <!-- modified Submit button -->
			</div>

			<!--<div class="question" id="page5">
				<h1>Question 5</h1>
				<h2>How many cities would you like to visit?</h2>
				<div id="q5">
					<input type="radio" name="number" value="1">1-2<br>
					<input type="radio" name="number" value="2">3-5<br>
					<input type="radio" name="number" value="3">+6<br><br>
			    </div>
				<input type="button" value="Previous" onclick="prevPage()" id="prevButton">
				<input type="submit" value="Submit" id="subButton">
			</div> -->
		</form>
	</section>
	<script>
		document.getElementById("myForm").addEventListener("submit", function (event) {
			// perform some JavaScript logic here
			event.preventDefault(); // prevent the form from submitting
			console.log(season);
			// window.location.href = "result.html"; // redirect to the destination URL
		});

		var currentQuestion = 1;
		var questionPages = document.querySelectorAll(".question");
		var season = 1;
		var history = 1;
		var activity =1;
		var cost=1;
		var number=1;
		

		async function nextPage() {
			if (currentQuestion == 1) {
				let questions = document.getElementById("q1");
				questions.childNodes.forEach(element => {
					if (element.checked) season = element.value;
				});
				await question2();
			}
			
			else if (currentQuestion == 2) {
				let questions = document.getElementById("q2");
				questions.childNodes.forEach(element => {
					if (element.checked) activity = element.value;
				});
				await question3();
			}
			else if (currentQuestion == 3) {
				let questions = document.getElementById("q3");
				questions.childNodes.forEach(element => {
					if (element.checked) cost = element.value;
				});
				await question4();
			}
			else if (currentQuestion == 4) {
				let questions = document.getElementById("q4");
				questions.childNodes.forEach(element => {
					if (element.checked) number = element.value;
				});
				await question5();
			}
			if (currentQuestion < questionPages.length) {
				questionPages[currentQuestion - 1].style.display = "none";
				currentQuestion++;
				questionPages[currentQuestion - 1].style.display = "block";
			}
		}
		

		function prevPage() {
			if (currentQuestion > 1) {
				questionPages[currentQuestion - 1].style.display = "none";
				currentQuestion--;
				questionPages[currentQuestion - 1].style.display = "block";
			}
		}
	</script>
	<!--<script>
		const btnSubmit = document.getElementById('subButton');
		btnSubmit.addEventListener('click', async () => {
			const season = 'Summer' // get selected season from user input
			const activity = 'Baroque' // get selected activity from user input
			const cost = "Expensive" // get selected cost from user input
	  
			const cityNames = await getCityNamesByCost(season, activity, cost);
			const q4 = document.getElementById('q4');
			q4.innerHTML = '';
			for (const city of cityNames.result) {
				const p = document.createElement('p');
				p.innerText = city.cit_name;
				q4.appendChild(p);
			}
		});
	  </script>-->
</body>

</html>